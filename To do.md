# 抗原自检认证app

## 目标
利用抗原检测试剂、AI图像视频识别手段、密码学等方法，让抗原测试结果的认证变得便利有效，在聚集场合使用，来解决新冠病毒疫情。

## 功能设计
### 自测认证模块
#### 流程
1.检查摄像头视野，包括用户脸部、手部，抗原试剂包装，拭子、滴管等。

2.识别自采样过程，此过程进行人脸特征识别，加盖时间戳。

3.识别洗脱过程。

4.识别滴注过程。

5.识别测试结果。此阶段用户可以离开，但试剂必须在视野内。

若结果为阴性，抗原阴性证明通过。
若结果为阳性，弹出提示，按照当地政府要求执行。
#### UI界面
本模块为一级功能（位置类似微信下面的“微信”）。
屏幕中央为模糊的自拍背景，提示本模块需要自拍。
背景上有两个按钮，上方为“使用介绍”，下方为“开始自测”。点击开始自测，软件获取摄像头权限。
在自拍区域的临近边界处，画上红框，当被识别物体接近红框时，鸣响警报，当完全移出镜头时，自测失败。
跟踪识别的物体有：未开封的试剂，已开封的试剂，拭子，滴管，在屏幕上显示时分别用不同颜色的框套住。
自测完成后提示“成功，结果在历史记录中查询”，显示按钮“立即上传”“暂不上传”。
后续操作转入下一模块。
#### 问题
- 上传的特征信息是怎样的？要求无法从特征信息中还原出图像信息，但是可以比对特征信息，得到图像匹配的置信概率。
- 拭子采样的时长容易确定，但深度和接触程度如何量化？
- 有什么现成开源好用的图像识别框架？


### 加密模块
若测试结果为阳性，用户可选择不上传数据。若用户收到管控，必须提交结果，则通过其他渠道告知，不属于本软件管理范畴。
若测试结果为阴性，用户也可选择不上传数据，但这和自行检查完全一样。故此时用户希望上传。
上传内容：时间戳与人脸特征的加密信息。
注意：不上传个人信息，地理位置，人脸图像数据等。
#### UI界面
本模块为一级功能（位置类似微信下面的“通讯录”）。
显示内容为按时间倒序（待定）显示自测记录。
每条记录格式为：
时间+结果（阴性/阳性/自测失败）+是否上传（未上传，已上传）
点击进入每条记录，进入二级菜单。
若阴性未上传，显示按钮“立即上传”
若阴性已上传，显示各种暗号密码/测试时间超过XX小时，已失效。
#### 问题
● 如何保证服务器安全工作，受监督而不受攻击，需要寻找开源成熟，公认有效的技术服务。
● 自测历史记录可否不使用Android中的“文件存储”权限？应该可以吧，软件有缓存位置。


### 线下识别模块
上传人脸特征后，用户收到校验码和密码。
识别功能开启后，用户走到摄像头前，软件识别活体人脸特征，若与上传内容匹配，则报出校验码。用户核实校验码后，在摄像头前报出密码，软件上传密码进行核对，成功则识别通过。
-  校验码的功能为版本控制和用户查验识别模块的真伪。
-  密码的功能为给用户提供是否接受识别的选择。
-  人脸特征保证抗原检测和识别认证的用户为同一人。  
线下识别模块可应用与公共场合，如公司、住宅、学校、医院、商店、公交地铁等，也可用用于个人之间互相识别认证。
####  UI界面
本模块为一级功能（位置类似微信下面的“发现”）。
获取前置摄像头权限，不允许翻转摄像头。
显示朗读校验码，提示成功/失败信息。
####问题
- 存在面容相似导致匹配出错的情况，软件有可能报出多个校验码。


## 使用规划
当疫情发生时，线下识别模块可以在人员密集场合用于病毒检测与阴性授信。尤其是核酸检测场所，人员大量密集和采样不规范容易造成传染，而且结果滞后，先进行抗原自检可以减小风险。
从管控人群中动员出可信任的抗原阴性人员参加保供工作。
对于入境隔离，跨区域旅行隔离的情况，可利用线上识别模块监测集中隔离和居家隔离过程，减少核酸采样频次。
软件为开源项目，注重隐私保护与防滥用，应该能得到国际社会的认可。

## 需要做的事情：
搭建app框架、预估所需资源（cpu、内存、存储、摄像头）（朱：问题不大，消耗手机资源约等于美颜自拍app，计算量差不多的。夏：不是终端的资源，是后台的资源）
- 搭建app框架，留出每个模块的接口
- 图像识别（先在pc上验证）



